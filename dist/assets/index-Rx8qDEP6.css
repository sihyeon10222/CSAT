:root{--bg-color: #0a0a0f;--text-color: #ffffff;--text-secondary: #a0a0a0;--card-bg: #1a1a2e;--progress-bg: #2a2a3e;--progress-fill: linear-gradient(90deg, #667eea, #764ba2, #f093fb);--shadow: 0 4px 20px rgba(0, 0, 0, .4)}[data-theme=light]{--bg-color: #ffffff;--text-color: #1a1a2e;--text-secondary: #666666;--card-bg: #f8f9fa;--progress-bg: #e0e0e0;--shadow: 0 4px 20px rgba(0, 0, 0, .1)}*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;background-color:var(--bg-color);color:var(--text-color);min-height:100vh;transition:background-color .3s ease,color .3s ease;overflow-x:hidden}.theme-toggle{position:fixed;top:1rem;right:1rem;width:48px;height:48px;border:none;border-radius:50%;background:var(--card-bg);box-shadow:var(--shadow);cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:1.5rem;z-index:1000;transition:transform .3s ease,box-shadow .3s ease}.theme-toggle:hover{transform:scale(1.1)}.fixed-buttons{position:fixed;top:1rem;right:1rem;display:flex;flex-direction:column;gap:.5rem;z-index:1000}.fixed-buttons .theme-toggle{position:static}.mobile-tool-btn{width:48px;height:48px;border:none;border-radius:50%;background:var(--card-bg);box-shadow:var(--shadow);cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:1.3rem;transition:transform .3s ease,box-shadow .3s ease}.mobile-tool-btn:hover{transform:scale(1.1)}.theme-toggle .icon-sun{display:none}.theme-toggle .icon-moon,[data-theme=light] .theme-toggle .icon-sun{display:block}[data-theme=light] .theme-toggle .icon-moon{display:none}.main-layout{display:flex;min-height:100vh;padding:1.5rem;gap:1.5rem;justify-content:center;align-items:flex-start}.rolling{filter:blur(2px);transform:translateZ(0);opacity:.8}.sidebar{width:280px;flex-shrink:0;display:flex;flex-direction:column;gap:1.5rem;padding-top:0;position:sticky;top:1.5rem;max-height:calc(100vh - 3rem);overflow-y:auto;scrollbar-gutter:stable}.sidebar-left{margin-left:0}.sidebar-right{margin-right:0}.container{flex:1;display:flex;flex-direction:column;padding:0;gap:1.5rem;max-width:900px;margin:0 auto}.desktop-only{display:flex}.mobile-only{display:none!important}.dday-section{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1.5rem;background:var(--card-bg);border-radius:20px;box-shadow:var(--shadow);transition:background-color .3s ease,box-shadow .3s ease;width:100%;overflow:visible}.dday-year{font-size:1.2rem;font-weight:600;color:var(--text-color);margin-bottom:.25rem}.dday-label{font-size:1rem;font-weight:500;color:var(--text-secondary);margin-bottom:1rem;opacity:.9}.dday-counter{display:flex;align-items:baseline;margin-bottom:.5rem;width:100%;justify-content:center}.dday-number,.dday-unified{font-size:clamp(1.5rem,8.5vw,3.5rem);font-weight:800;font-variant-numeric:tabular-nums;letter-spacing:-.05em;font-family:SF Mono,Menlo,Monaco,Courier New,monospace;white-space:nowrap}@media(max-width:480px){.dday-unified{font-size:clamp(1.2rem,8.2vw,2.2rem)}}.rainbow{background:linear-gradient(90deg,red,#ff8000,#ff0,#0f0,#0ff,#0080ff,#8000ff,#ff0080,red);background-size:200% 100%;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;animation:rainbow-shift 3s linear infinite}@keyframes rainbow-shift{0%{background-position:0% 50%}to{background-position:200% 50%}}.dday-weekends,.dday-passed-label{font-size:1.2rem;color:var(--text-secondary);margin-top:.5rem}.dday-weekends span,.dday-passed-label span{font-weight:700;color:var(--text-color)}.progress-container{width:100%;max-width:100%;margin-top:2rem;display:flex;align-items:flex-start;gap:.75rem}.progress-wrapper{flex:1;position:relative;padding-bottom:3rem}.progress-bar{width:100%;height:12px;background:var(--progress-bg);border-radius:6px;overflow:hidden;position:relative;z-index:2}.progress-bar:before{content:"";position:absolute;top:0;left:0;height:100%;width:var(--progress, 0%);background:linear-gradient(90deg,#667eea,#764ba2,#f093fb);border-radius:6px;transition:width .1s linear}.progress-wave{position:absolute;top:0;left:0;height:100%;width:var(--progress, 0%);overflow:hidden;border-radius:6px}.progress-wave:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,transparent 0%,transparent 20%,rgba(255,255,255,.3) 30%,rgba(255,255,255,.7) 50%,rgba(255,255,255,.3) 70%,transparent 80%,transparent 100%);animation:wave-sweep 1.5s ease-in-out infinite}@keyframes wave-sweep{0%{transform:translate(-100%)}to{transform:translate(100%)}}.progress-text{font-size:.9rem;font-weight:600;color:var(--text-color);min-width:45px;text-align:right;font-variant-numeric:tabular-nums;margin-top:-2px}.milestones-container{position:absolute;top:18px;left:0;width:100%;height:30px}.milestone-marker{position:absolute;transform:translate(-50%);display:flex;flex-direction:column;align-items:center;z-index:100}.milestone-line{width:2px;height:6px;background:var(--text-secondary);opacity:.5;margin-bottom:2px}.milestone-box{background:var(--card-bg);color:var(--text-color);padding:6px 10px;border-radius:10px;text-align:center;box-shadow:var(--shadow);border:1px solid rgba(255,255,255,.1);position:relative;display:flex;flex-direction:column;gap:2px}.exam-label{font-size:.85rem;font-weight:800;color:var(--text-color);white-space:nowrap}.exam-dday{font-size:.7rem;color:var(--text-secondary);white-space:nowrap}.milestone-box:after{content:"";position:absolute;top:-4px;left:50%;transform:translate(-50%);border-left:5px solid transparent;border-right:5px solid transparent;border-bottom:5px solid var(--card-bg)}.dday-section.past{opacity:.7}.dday-section.past .dday-number{color:var(--text-secondary)}@media(min-width:768px){.container{padding:2rem 3rem;gap:2rem}.dday-section{padding:2rem}.dday-year{font-size:1.4rem}.dday-label{font-size:1rem}.dday-unified{font-size:clamp(3rem,10vw,4rem)}.dday-time{font-size:1.3rem}.progress-bar{height:16px;border-radius:8px}.progress-bar:before{border-radius:8px}.progress-wave{border-radius:8px}.progress-text{font-size:1rem}}@media(min-width:1200px){.container{max-width:900px;margin:0 auto;padding:2rem}.dday-unified{font-size:clamp(4rem,12vw,5rem)}.progress-container{max-width:100%}}.tool-section{background:var(--card-bg);border-radius:20px;box-shadow:var(--shadow);padding:1.5rem;display:flex;flex-direction:column;align-items:center;gap:1.5rem}.tool-header{width:100%;display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.tool-title{font-size:1.1rem;font-weight:600;color:var(--text-color);margin-bottom:0}.sound-toggle-btn{background:none;border:none;color:var(--text-secondary);cursor:pointer;padding:.4rem;border-radius:8px;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.sound-toggle-btn:hover{background:var(--progress-bg);color:#e74c3c}.sound-toggle-btn svg.hidden{display:none}.control-btn{padding:.75rem 1.5rem;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease}.control-btn.primary{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.control-btn.primary:hover{transform:translateY(-2px);box-shadow:0 4px 15px #667eea66}.control-btn.secondary{background:var(--progress-bg);color:var(--text-color)}.control-btn.secondary:hover{background:var(--text-secondary)}.control-btn.small{padding:.5rem 1rem;font-size:.85rem}.control-btn.danger{background:#e74c3c;color:#fff}.control-btn.danger:hover{background:#c0392b;transform:translateY(-2px);box-shadow:0 4px 15px #e74c3c66}.pomodoro-clock{width:180px;height:180px}.clock-svg{width:100%;height:100%}.clock-bg{fill:none;stroke:#f0f0f0;stroke-width:8}[data-theme=dark] .clock-bg,:root:not([data-theme=light]) .clock-bg{stroke:#2a2a3e}.clock-progress{fill:none;stroke:#e74c3c;stroke-width:8;stroke-linecap:round;stroke-dasharray:283;stroke-dashoffset:0;transition:stroke-dashoffset .1s linear;transform:rotate(-90deg);transform-origin:center}.clock-text{fill:var(--text-color);font-size:16px;font-weight:700;text-anchor:middle;dominant-baseline:central;font-family:SF Mono,Menlo,monospace}.timer-inputs{display:flex;gap:.75rem;align-items:center;justify-content:center;width:100%}.time-input-group{display:flex;flex-direction:column;align-items:center;gap:.2rem}.arrow-btn{width:40px;height:24px;border:none;border-radius:6px;background:var(--progress-bg);color:var(--text-color);font-size:.7rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s}.arrow-btn:hover{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.arrow-btn:active{transform:scale(.95)}.time-input-group input{width:50px;height:40px;text-align:center;font-size:1.2rem;font-weight:600;border:2px solid var(--progress-bg);border-radius:8px;background:var(--bg-color);color:var(--text-color);appearance:textfield;-moz-appearance:textfield}.time-input-group input::-webkit-outer-spin-button,.time-input-group input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.time-input-group input:focus{outline:none;border-color:#667eea}.time-label{font-size:.7rem;color:var(--text-secondary);margin-top:.2rem}.timer-controls{display:flex;gap:.5rem}.preset-container{width:100%;margin-top:.5rem}.preset-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem;font-size:.9rem;color:var(--text-secondary)}.preset-edit-btn{background:none;border:none;cursor:pointer;font-size:1rem;opacity:.7;transition:opacity .2s}.preset-edit-btn:hover{opacity:1}.preset-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:.5rem}.preset-btn{padding:.6rem;background:var(--progress-bg);border:none;border-radius:10px;color:var(--text-color);font-size:.9rem;font-weight:600;cursor:pointer;transition:all .2s;position:relative}.preset-btn:hover{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.preset-add-btn{width:100%;margin-top:.5rem;padding:.5rem;background:transparent;border:2px dashed var(--progress-bg);border-radius:10px;color:var(--text-secondary);font-size:.85rem;cursor:pointer;transition:all .2s}.preset-add-btn:hover{border-color:#667eea;color:#667eea}.stopwatch-analog{width:180px;height:180px}.stopwatch-svg{width:100%;height:100%}.sw-face{fill:#f9f9f9;stroke:#ddd;stroke-width:2}[data-theme=dark] .sw-face,:root:not([data-theme=light]) .sw-face{fill:#1a1a2e;stroke:#3a3a4e}.sw-hand{stroke:#e74c3c;stroke-width:2;stroke-linecap:round;transform-origin:50px 50px}.sw-center{fill:#333}[data-theme=dark] .sw-center,:root:not([data-theme=light]) .sw-center{fill:#ccc}.stopwatch-digital{font-size:2rem;font-weight:700;font-family:SF Mono,Menlo,monospace;color:var(--text-color);margin:.5rem 0}.stopwatch-controls{display:flex;gap:.5rem}.timer-horizontal,.stopwatch-horizontal{display:flex;align-items:center;justify-content:space-around;width:100%;gap:1rem}.pomodoro-clock-small,.stopwatch-analog-small{width:80px;height:80px;flex-shrink:0}.stopwatch-digital-small{font-size:1.2rem;font-weight:700;font-family:SF Mono,Menlo,monospace}.timer-input-small{display:flex;flex-direction:column;gap:.5rem}.timer-inputs-compact{display:flex;align-items:center;gap:.25rem}.timer-inputs-compact input{width:35px;height:30px;text-align:center;font-size:1rem;border:1px solid var(--progress-bg);border-radius:6px;background:var(--bg-color);color:var(--text-color)}.timer-inputs-compact span{color:var(--text-secondary)}.timer-controls-compact,.stopwatch-controls-small{display:flex;flex-direction:column;gap:.3rem}.preset-grid-small{display:grid;grid-template-columns:repeat(2,1fr);gap:.3rem}.preset-grid-small .preset-btn{padding:.4rem;font-size:.75rem}.modal-overlay{position:fixed;inset:0;background:#0009;display:none;align-items:center;justify-content:center;z-index:2000}.modal-overlay.active{display:flex}.modal-content{background:var(--card-bg);border-radius:20px;padding:2rem;min-width:300px;max-width:90vw;box-shadow:var(--shadow)}.modal-content h3{margin-bottom:1rem;color:var(--text-color)}.preset-edit-list{display:flex;flex-direction:column;gap:.75rem;margin-bottom:1.5rem;max-height:400px;overflow-y:auto;padding-right:5px}.preset-modal-header{display:grid;grid-template-columns:1fr 180px 60px;gap:.5rem;padding:0 .5rem;margin-bottom:.75rem;font-size:.85rem;color:var(--text-secondary);font-weight:600}.preset-edit-item{display:grid;grid-template-columns:1fr 180px 60px;gap:.5rem;align-items:center}.preset-time-inputs{display:flex;align-items:center;gap:4px;background:var(--bg-color);border:1px solid var(--progress-bg);border-radius:8px;padding:0 4px}.preset-time-inputs input{width:40px!important;border:none!important;background:transparent!important;padding:.5rem 2px!important;text-align:center;font-size:.9rem}.preset-time-inputs span{color:var(--text-secondary);font-size:.8rem;opacity:.5}.preset-edit-item input[data-field=label]{width:100%}.preset-edit-item input{flex:1;padding:.5rem;border:1px solid var(--progress-bg);border-radius:8px;background:var(--bg-color);color:var(--text-color)}.preset-edit-item .delete-btn{background:#e74c3c;color:#fff;border:none;border-radius:6px;padding:.5rem .75rem;cursor:pointer}.modal-actions{display:flex;gap:.5rem;justify-content:flex-end}.modal-content.mobile-notice{text-align:center;padding:2.5rem 2rem}.modal-content.mobile-notice p:first-child{font-size:3rem;margin-bottom:1rem}.modal-content.mobile-notice p:nth-child(2){font-size:1.1rem;line-height:1.6;color:var(--text-color);margin-bottom:1.5rem}.calendar-section{padding:1.5rem;align-items:stretch;position:relative;overflow:hidden}.calendar-container{display:flex;flex-direction:column;gap:1.5rem;width:100%;max-height:calc(100vh - 6rem);overflow-y:auto;scroll-behavior:smooth}.calendar-month{background:var(--bg-color);border-radius:12px;padding:1rem}.calendar-month-title{text-align:center;font-size:.9rem;font-weight:600;color:var(--text-color);margin-bottom:.5rem}.calendar-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:2px;text-align:center;font-size:.75rem}.calendar-day-header{color:var(--text-secondary);font-weight:600;padding:.25rem 0}.calendar-day-header:first-child{color:#e74c3c}.calendar-day-header:last-child{color:#3498db}.calendar-day{padding:.25rem;border-radius:50%;color:var(--text-color);aspect-ratio:1;display:flex;align-items:center;justify-content:center}.calendar-day.empty{color:transparent}.calendar-day.sunday{color:#e74c3c}.calendar-day.saturday{color:#3498db}.calendar-day.today{background:#e74c3c;color:#fff;font-weight:700}.calendar-day.other-month{opacity:.3}@media(max-width:1100px){.main-layout{flex-direction:column}.sidebar,.desktop-only{display:none!important}.mobile-only{display:flex!important}.container{max-width:100%;padding:1rem}}.calendar-today-btn{position:absolute;top:1rem;left:50%;transform:translate(-50%);padding:.6rem 1.2rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:20px;font-size:.85rem;font-weight:600;cursor:pointer;z-index:10;box-shadow:0 4px 12px #0000004d;transition:opacity .2s ease,transform .2s ease,background .2s ease}.calendar-today-btn:hover{transform:translate(-50%) scale(1.05)}.notification-container{position:fixed;top:2rem;right:2rem;z-index:1000;display:flex;flex-direction:column;gap:1rem}.notification-toast{background:#1a1a2ef2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);color:#fff;padding:1rem 2rem;border-radius:16px;box-shadow:0 10px 30px #00000080;display:flex;align-items:center;gap:1rem;font-weight:600;animation:slideIn .5s cubic-bezier(.175,.885,.32,1.275) forwards;cursor:pointer;border-left:4px solid #e74c3c}.notification-toast.hide{animation:slideOut .5s ease forwards}@keyframes slideIn{0%{opacity:0;transform:translate(100%) scale(.9)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes slideOut{0%{opacity:1;transform:translate(0) scale(1)}to{opacity:0;transform:translate(100%) scale(.9)}}[data-theme=light] .notification-toast{background:#fffffff2;color:#1a1a2e;border:1px solid rgba(0,0,0,.1);box-shadow:0 10px 30px #0000001a}.timer-finish-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#0006;backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px);z-index:2000;display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:all .3s ease}.timer-finish-overlay.active{opacity:1;visibility:visible}.timer-finish-content{background:var(--card-bg);padding:3rem;border-radius:30px;box-shadow:0 20px 50px #0000004d;text-align:center;max-width:400px;width:90%;transform:scale(.8);transition:transform .4s cubic-bezier(.175,.885,.32,1.275)}.timer-finish-overlay.active .timer-finish-content{transform:scale(1)}.timer-finish-icon{font-size:4rem;margin-bottom:1.5rem;animation:heartBeat 1.5s infinite}.timer-finish-content h2{margin-bottom:1rem;font-size:1.8rem}.timer-finish-content p{color:var(--text-secondary);margin-bottom:2rem}.timer-finish-actions{display:flex;gap:1rem;justify-content:center}@keyframes heartBeat{0%{transform:scale(1)}14%{transform:scale(1.3)}28%{transform:scale(1)}42%{transform:scale(1.3)}70%{transform:scale(1)}}
